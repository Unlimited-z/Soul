# 社区主页面重构说明

## 重构内容

### 1. 布局结构调整
- **顶部空白区域**: 添加了200px高度的空白区域
- **Segment Control**: 添加了分段控制器，包含"动态"和"联系人"两个选项
- **内容区域**: 根据选择的分段显示不同的内容

### 2. 新增功能

#### 动态页面
- 使用`UITableView`展示朋友圈风格的动态内容
- 每个动态包含：头像、用户名、内容、时间
- 模拟显示10条动态数据
- 支持滚动浏览

#### 联系人页面
- 保留原有的好友列表功能
- 包含搜索功能
- 点击好友可跳转到个人资料页面

### 3. 技术实现

#### UI组件
```swift
// 顶部空白区域
private let topSpacerView = UIView()

// 分段控制器
private let segmentControl = UISegmentedControl(items: ["动态", "联系人"])

// 动态页面
private let momentsTableView = UITableView()

// 联系人页面
private let contactsContainerView = UIView()
```

#### 布局约束（使用SnapKit）
- 顶部空白区域：200px高度
- Segment Control：44px高度，左右边距20px
- 内容区域：填充剩余空间

#### 页面切换逻辑
```swift
private func switchToPage(index: Int) {
    if index == 0 {
        // 显示动态页面
        momentsTableView.isHidden = false
        contactsContainerView.isHidden = true
    } else {
        // 显示联系人页面
        momentsTableView.isHidden = true
        contactsContainerView.isHidden = false
    }
}
```

### 4. 自定义Cell

#### MomentsTableViewCell
- 显示动态内容的自定义Cell
- 包含头像、用户名、内容文本、时间标签
- 高度：120px

#### FriendTableViewCell
- 显示好友信息的自定义Cell
- 包含头像、姓名、在线状态、箭头图标
- 高度：70px

### 5. 数据源管理
- 动态数据：模拟10条动态内容
- 好友数据：复用原有的6个测试好友
- 支持搜索过滤好友列表

## 使用方法

1. 打开社区主页面
2. 默认显示"动态"页面，可以看到朋友圈风格的动态列表
3. 点击"联系人"切换到好友列表页面
4. 在联系人页面可以搜索好友
5. 点击好友可以跳转到个人资料页面

## 注意事项

- 所有UI布局都使用SnapKit进行约束设置，符合项目规范
- 动态页面目前只是展示效果，没有具体的业务逻辑
- 联系人页面保持原有功能不变
- 代码结构清晰，易于后续扩展和维护